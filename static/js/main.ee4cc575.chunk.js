(this["webpackJsonpreact-covid-stats"]=this["webpackJsonpreact-covid-stats"]||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(82),a(43)),s=a.n(i),l=a(61),d=a(12),u=a(162),m=a(160),f=a(152),v=a(164),p=a(110),g=a(147),h=a(161),_=a(2),E=a(3),w=a(149),b=a(151),y=a(65),S=a.n(y),j=Object(g.a)((function(e){return{content:{alignItems:"center",display:"flex"},title:{fontWeight:700},count:{fontSize:22},differenceIcon:{marginTop:e.spacing(1)},differenceValue:{marginRight:e.spacing(1)}}})),x=function(e){var t=e.className,a=Object(_.a)(e,["className"]),n=e.stattext,c=e.totalcount,o=e.latestcount,i=j();return r.a.createElement(w.a,Object.assign({},a,{className:Object(E.a)(t)}),r.a.createElement(b.a,null,r.a.createElement(f.a,{container:!0,justify:"space-between"},r.a.createElement(f.a,{item:!0},r.a.createElement(p.a,{className:i.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},n),r.a.createElement(p.a,{className:i.count},c)),o?r.a.createElement(f.a,{item:!0},r.a.createElement(S.a,{className:i.differenceIcon}),r.a.createElement(p.a,{className:i.differenceValue,variant:"body2"},o)):null)))},N=a(157),T=a(158),I=a(155),k=a(156),O=a(153),A=a(163),C=a(154),R=a(166),D=a(109),L=a(88);function W(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var P=[{id:"state_ut",numeric:!1,label:"State/UT"},{id:"confirmed",numeric:!1,label:"Confirmed"},{id:"active",numeric:!0,label:"Active"},{id:"recovered",numeric:!0,label:"Recovered"},{id:"deceased",numeric:!0,label:"Deceased"}];function B(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return r.a.createElement(O.a,null,r.a.createElement(C.a,null,P.map((function(e){return r.a.createElement(I.a,{key:e.id,align:e.numeric?"right":"left",sortDirection:n===e.id&&a},r.a.createElement(R.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(o=e.id,function(e){c(e,o)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var o}))))}var Y=Object(g.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},firstColumnCell:{paddingLeft:e.spacing(3),color:e.palette.grey.main}}}));function H(e){var t=e.rows;L.each(t,(function(e){e.confirmed=parseInt(e.confirmed,10),e.active=parseInt(e.active,10),e.recovered=parseInt(e.recovered,10),e.deceased=parseInt(e.deceased,10)}));var a=Y(),n=r.a.useState("desc"),c=Object(d.a)(n,2),o=c[0],i=c[1],s=r.a.useState("confirmed"),l=Object(d.a)(s,2),u=l[0],m=l[1],f=r.a.useState(0),v=Object(d.a)(f,2),p=v[0],g=v[1],h=r.a.useState(10),_=Object(d.a)(h,2),w=_[0],b=_[1],y=w-Math.min(w,t.length-p*w);return r.a.createElement("div",{className:a.root},r.a.createElement(D.a,{className:a.paper},r.a.createElement(k.a,null,r.a.createElement(N.a,{className:a.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(B,{classes:a,order:o,orderBy:u,onRequestSort:function(e,t){i(u===t&&"asc"===o?"desc":"asc"),m(t)}}),r.a.createElement(T.a,{className:Object(E.a)(a.table)},function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return W(e,a,t)}:function(e,a){return-W(e,a,t)}}(o,u)).slice(p*w,p*w+w).map((function(e,t){var n="enhanced-table-checkbox-".concat(t);return r.a.createElement(C.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.state_ut},r.a.createElement(I.a,{component:"th",id:n,scope:"row",padding:"checkbox",className:a.firstColumnCell},e.state_ut),r.a.createElement(I.a,{align:"right"},e.confirmed),r.a.createElement(I.a,{align:"right"},e.active),r.a.createElement(I.a,{align:"right"},e.recovered),r.a.createElement(I.a,{align:"right"},e.deceased))})),y>0&&r.a.createElement(C.a,{style:{height:53*y}},r.a.createElement(I.a,{colSpan:6}))))),r.a.createElement(A.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){b(parseInt(e.target.value,10)),g(0)}})))}var U=a(165),V=a(44),M=a.n(V),q=(a(52),Object(g.a)((function(){return{themeChange:{position:"absolute",top:5,right:10,display:"flex",alignItems:"center",justifyContent:"center"},themeIcon:{opacity:.8}}})));var z=function(){var e=q(),t=Object(n.useState)((function(){return localStorage.getItem("mode")})),a=Object(d.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){"dark"===c?(document.body.classList.add("dark-mode"),localStorage.setItem("mode","dark")):(document.body.classList.remove("dark-mode"),localStorage.setItem("mode","light"))}),[c]),r.a.createElement("div",null,r.a.createElement(v.a,{className:e.themeChange},r.a.createElement(U.a,{onClick:function(){return o((function(e){return"dark"===e?"light":"dark"}))},checked:"dark"===c,name:"mode",color:"default"}),r.a.createElement("button",{className:"cursor-pointer"},r.a.createElement(M.a,{className:e.themeIcon}))))},J=a(66),F=a.n(J),G=a(67),$=a.n(G),K={DATA:"https://api.covid19india.org/data.json",STATE_DISTRICT_WISE:"https://api.covid19india.org/state_district_wise.json",STATE_DISTRICT_WISE_V2:"https://api.covid19india.org/v2/state_district_wise.json",TRAVEL_HISTORY:"https://api.covid19india.org/travel_history.json",RAW_DATA:"https://api.covid19india.org/raw_data.json",STATES_DAILY_CHANGES:"https://api.covid19india.org/states_daily.json",DEATHS_AND_RECOVERIES:"https://api.covid19india.org/deaths_recoveries.json",ESSENTIALS_AND_RESOURCES:"https://api.covid19india.org/resources/resources.json"};function Q(){return r.a.createElement("div",null,r.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(m.a,{color:"inherit",href:"https://offpe.github.io/react-covid19-stats/"},"Covid19 Tracker")," ",(new Date).getFullYear(),"."))}var X=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},row:{marginBottom:e.spacing(3)},primaryText:{color:e.palette.primary.main},successText:{color:e.palette.success.main},errorText:{color:e.palette.error.main},greyText:{color:e.palette.grey.main}}})),Z=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};function ee(){var e=Object(n.useState)({meta:{confirmed_total_count:0,active_total_count:0,recovered_total_count:0,deceased_total_count:0,confirmed_latest_total_count:0,active_latest_total_count:0,recovered_latest_total_count:0,deceased_latest_total_count:0,last_updated:""},state_wise_rows:[]}),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),m=i[0],g=i[1],_=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(K.DATA);case 3:t=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("Error:",e.t0),e.abrupt("return");case 10:c({meta:{confirmed_total_count:Z(t.data.statewise[0].confirmed),active_total_count:Z(t.data.statewise[0].active),recovered_total_count:Z(t.data.statewise[0].recovered),deceased_total_count:Z(t.data.statewise[0].deaths),confirmed_latest_total_count:Z(t.data.statewise[0].deltaconfirmed),active_latest_total_count:0,recovered_latest_total_count:Z(t.data.statewise[0].deltarecovered),deceased_latest_total_count:Z(t.data.statewise[0].deltadeaths),last_updated:$()(t.data.statewise[0].lastupdatedtime,"DD/MM/YYYY hh:mm:ss").fromNow()},state_wise_rows:E(t.data.statewise)});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];if(!e.length)return t;e.splice(0,1);for(var a=0;a<e.length;a++){var n=e[a];t.push({state_ut:n.state,confirmed:n.confirmed,active:n.active,recovered:n.recovered,deceased:n.deaths})}return t};Object(n.useEffect)((function(){_(a)}),[]),Object(n.useEffect)((function(){var e=navigator.onLine?"online":"offline";g(e)}),[m]),Object(n.useEffect)((function(){var e=function(){g("offline")};return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e)}}),[m]),Object(n.useEffect)((function(){var e=function(){g("online")};return window.addEventListener("online",e),function(){return window.removeEventListener("online",e)}}),[m]);var w=X(),b=z();return r.a.createElement(h.a,{component:"main"},r.a.createElement(u.a,null),r.a.createElement("div",{className:w.paper},r.a.createElement(f.a,{className:w.row,container:!0,justify:"space-between"},r.a.createElement(f.a,{className:w.statsItem,item:!0},r.a.createElement(p.a,{display:"inline",variant:"h4",color:"primary"},"Covid19 Tracker",r.a.createElement(p.a,{display:"inline",variant:"caption",color:"primary"},"(India)"))),r.a.createElement(f.a,{className:w.statsItem,item:!0},r.a.createElement(p.a,{display:"inline",variant:"caption",color:"primary"},"Last updated",r.a.createElement("br",null)),r.a.createElement(p.a,{display:"inline",variant:"subtitle2",color:"primary"},a.meta.last_updated))),r.a.createElement(f.a,{className:w.row,container:!0,justify:"space-between"},r.a.createElement(f.a,{className:w.statsItem,item:!0},b)),r.a.createElement(f.a,{className:w.row,container:!0,spacing:4},r.a.createElement(f.a,{item:!0,lg:3,sm:6,xl:3,xs:6},r.a.createElement(x,{stattext:"Confirmed",totalcount:a.meta.confirmed_total_count,latestcount:a.meta.confirmed_latest_total_count,className:w.errorText})),r.a.createElement(f.a,{item:!0,lg:3,sm:6,xl:3,xs:6},r.a.createElement(x,{stattext:"Active",totalcount:a.meta.active_total_count,latestcount:a.meta.active_latest_total_count,className:w.primaryText})),r.a.createElement(f.a,{item:!0,lg:3,sm:6,xl:3,xs:6},r.a.createElement(x,{stattext:"Recovered",totalcount:a.meta.recovered_total_count,latestcount:a.meta.recovered_latest_total_count,className:w.successText})),r.a.createElement(f.a,{item:!0,lg:3,sm:6,xl:3,xs:6},r.a.createElement(x,{stattext:"Deceased",totalcount:a.meta.deceased_total_count,latestcount:a.meta.deceased_latest_total_count,className:w.greyText}))),r.a.createElement(H,{rows:a.state_wise_rows})),r.a.createElement(v.a,{mt:8},r.a.createElement(Q,null)))}var te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-covid19-stats",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-covid19-stats","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ae(t,e)}))}}()},52:function(e,t,a){},77:function(e,t,a){e.exports=a(107)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.ee4cc575.chunk.js.map